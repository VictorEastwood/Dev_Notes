# Vim 编辑器使用指南

## 目录
- [Vim 编辑器使用指南](#vim-编辑器使用指南)
  - [目录](#目录)
  - [安装 Vim](#安装-vim)
  - [基本概念](#基本概念)
  - [模式切换](#模式切换)
  - [光标移动](#光标移动)
    - [基础移动](#基础移动)
    - [高级移动](#高级移动)
  - [文本编辑](#文本编辑)
    - [插入文本](#插入文本)
    - [删除文本](#删除文本)
    - [复制粘贴](#复制粘贴)
    - [撤销与重做](#撤销与重做)
  - [搜索与替换](#搜索与替换)
  - [文件操作](#文件操作)
  - [窗口与分屏](#窗口与分屏)
  - [实用技巧](#实用技巧)
  - [配置建议](#配置建议)

## 安装 Vim

```bash
# Debian/Ubuntu
sudo apt update && sudo apt install vim

# Red Hat/CentOS
sudo yum install vim

# Arch Linux
sudo pacman -S vim
```

## 基本概念
Vim 有三种主要模式：
- **普通模式**：执行命令、移动光标（启动后的默认模式）
- **插入模式**：编辑文本内容
- **可视模式**：选择文本块
- **命令行模式**：执行保存、退出等操作

## 模式切换
| 命令 | 功能 |
|------|------|
| `i` | 在光标前进入插入模式 |
| `a` | 在光标后进入插入模式 |
| `o` | 在当前行下方新建行并进入插入模式 |
| `O` | 在当前行上方新建行并进入插入模式 |
| `v` | 进入字符可视模式 |
| `V` | 进入行可视模式 |
| `Ctrl+v` | 进入块可视模式 |
| `Esc` | 返回普通模式 |
| `:` | 进入命令行模式 |

## 光标移动
### 基础移动
| 命令 | 功能 |
|------|------|
| `h` | 左移 |
| `j` | 下移 |
| `k` | 上移 |
| `l` | 右移 |
| `w` | 移动到下一个单词开头 |
| `b` | 移动到上一个单词开头 |
| `e` | 移动到单词结尾 |
| `0` | 移动到行首 |
| `^` | 移动到行首非空白字符 |
| `$` | 移动到行尾 |
| `gg` | 移动到文件开头 |
| `G` | 移动到文件末尾 |
| `:<行号>` | 跳转到指定行 |

### 高级移动
| 命令 | 功能 |
|------|------|
| `Ctrl+f` | 向下翻页 |
| `Ctrl+b` | 向上翻页 |
| `Ctrl+d` | 向下半页 |
| `Ctrl+u` | 向上半页 |
| `}` | 跳转到下一段落 |
| `{` | 跳转到上一段落 |
| `*` | 跳转到下一个相同单词 |
| `#` | 跳转到上一个相同单词 |

## 文本编辑
### 插入文本
| 命令 | 功能 |
|------|------|
| `i` | 在光标前插入 |
| `a` | 在光标后插入 |
| `I` | 在行首插入 |
| `A` | 在行尾插入 |
| `o` | 在下方插入新行 |
| `O` | 在上方插入新行 |

### 删除文本
| 命令 | 功能 |
|------|------|
| `x` | 删除光标处字符 |
| `X` | 删除光标前字符 |
| `dw` | 删除到单词末尾 |
| `d$` | 删除到行尾 |
| `dd` | 删除整行 |
| `dG` | 删除到文件末尾 |
| `dgg` | 删除到文件开头 |

### 复制粘贴
| 命令 | 功能 |
|------|------|
| `yy` | 复制当前行 |
| `yw` | 复制当前单词 |
| `y$` | 复制到行尾 |
| `p` | 在光标后粘贴 |
| `P` | 在光标前粘贴 |
| `"ayy` | 复制行到寄存器a |
| `"ap` | 粘贴寄存器a内容 |

### 撤销与重做
| 命令 | 功能 |
|------|------|
| `u` | 撤销上一次操作 |
| `Ctrl+r` | 重做上一次撤销 |
| `U` | 撤销当前行的所有修改 |

## 搜索与替换
| 命令 | 功能 |
|------|------|
| `/pattern` | 向下搜索指定模式 |
| `?pattern` | 向上搜索指定模式 |
| `n` | 跳转到下一个匹配项 |
| `N` | 跳转到上一个匹配项 |
| `:%s/old/new/g` | 全局替换所有匹配 |
| `:%s/old/new/gc` | 全局替换（带确认） |
| `:s/old/new/g` | 当前行替换 |
| `:10,20s/old/new/g` | 在10-20行间替换 |

## 文件操作
| 命令 | 功能 |
|------|------|
| `:e <文件名>` | 打开新文件 |
| `:w` | 保存文件 |
| `:w <文件名>` | 另存为 |
| `:q` | 退出 |
| `:q!` | 强制退出（不保存） |
| `:wq` | 保存并退出 |
| `:x` | 保存并退出（仅当有修改时） |
| `:saveas <路径>` | 另存为新文件 |
| `:r <文件名>` | 插入文件内容到光标处 |

## 窗口与分屏
| 命令 | 功能 |
|------|------|
| `:sp [文件名]` | 水平分割窗口 |
| `:vsp [文件名]` | 垂直分割窗口 |
| `Ctrl+w w` | 在窗口间循环切换 |
| `Ctrl+w h` | 切换到左侧窗口 |
| `Ctrl+w j` | 切换到下方窗口 |
| `Ctrl+w k` | 切换到上方窗口 |
| `Ctrl+w l` | 切换到右侧窗口 |
| `Ctrl+w =` | 等分所有窗口尺寸 |
| `Ctrl+w +` | 增加当前窗口高度 |
| `Ctrl+w -` | 减少当前窗口高度 |
| `Ctrl+w >` | 增加当前窗口宽度 |
| `Ctrl+w <` | 减少当前窗口宽度 |
| `:q` | 关闭当前窗口 |

## 实用技巧
1. **重复操作**：在命令前加数字（如 `5dd` 删除5行）
2. **组合命令**：`daw` 删除整个单词，`cis` 更改整个句子
3. **标记位置**：
   - `ma` 用 a 标记当前位置
   - `'a` 跳转到标记 a 的位置
4. **宏录制**：
   - `qa` 开始录制宏到寄存器 a
   - 执行操作序列
   - `q` 停止录制
   - `@a` 执行宏 a
5. **自动补全**：
   - `Ctrl+n` 向下浏览补全列表
   - `Ctrl+p` 向上浏览补全列表
6. **外部命令**：
   - `:!<命令>` 执行外部命令（如 `:!ls`）
   - `:r !<命令>` 插入命令输出结果

## 配置建议
在 `~/.vimrc` (Linux/macOS) 或 `_vimrc` (Windows) 中添加：

```vim
" 基本设置
set number              " 显示行号
set relativenumber      " 显示相对行号
set tabstop=4           " Tab宽度为4空格
set shiftwidth=4        " 自动缩进宽度
set expandtab           " 将Tab转换为空格
set autoindent          " 自动缩进
set smartindent         " 智能缩进
set cursorline          " 高亮当前行
set hlsearch            " 高亮搜索结果
set incsearch           " 实时搜索
set ignorecase          " 搜索忽略大小写
set smartcase           " 智能大小写匹配
set backspace=indent,eol,start  " 修复退格键行为

" 按键映射
nnoremap <C-s> :w<CR>   " Ctrl+s 保存
inoremap <C-s> <Esc>:w<CR>a

" 插件管理 (使用 vim-plug)
call plug#begin('~/.vim/plugged')
Plug 'preservim/nerdtree'     " 文件浏览器
Plug 'vim-airline/vim-airline' " 状态栏增强
Plug 'tpope/vim-commentary'    " 快速注释
call plug#end()

" NERDTree 配置
map <C-n> :NERDTreeToggle<CR>
autocmd VimEnter * NERDTree | wincmd p
```

安装插件管理器：
```bash
curl -fLo ~/.vim/autoload/plug.vim --create-dirs \
    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
```

安装配置的插件：
1. 打开 Vim
2. 输入 `:PlugInstall`
3. 等待安装完成



